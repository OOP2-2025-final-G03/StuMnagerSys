/* ベーススタイル */

/* =========================================
   Light Theme Defaults (ライトモード: デフォルト設定)
   ========================================= */
:root {
    /* --- 色設定 (カラーパレット) --- */
    --page-bg: #F2F4F7;
    --card-bg: #FFFFFF;
    --primary-color: #1A1A1A;
    --primary-hover: #000000;
    
    /* --- テキストカラー (Typography Colors) --- */
    --text-main: #1A1A1A;
    --text-sub: #667085;
    --text-placeholder: #98A2B3;
    
    /* --- フォームと境界線 (Forms & Borders) --- */
    --input-bg: #FAFAFA;
    --input-border: #D0D5DD;
    --border-light: rgba(0,0,0,0.04);
    
    /* --- インタラクション状態 (State) --- */
    --hover-bg: #F9FAFB;
    --active-bg: #1A1A1A;
    --active-text: #FFFFFF;
    
    /* --- アニメーション設定 (Animation Settings) --- */
    --anim-curve: cubic-bezier(0.4, 0, 0.2, 1); 
    --anim-fast: 0.2s var(--anim-curve);
    --anim-medium: 0.3s var(--anim-curve);
    --anim-slow: 0.4s var(--anim-curve);

    /* --- 影 (Shadows) --- */
    --shadow-sm: 0 2px 8px rgba(0,0,0,0.04);
    --shadow-md: 0 4px 12px rgba(26, 26, 26, 0.15);
    --shadow-lg: 0 20px 48px -12px rgba(16, 24, 40, 0.1), 0 8px 16px -4px rgba(16, 24, 40, 0.04);
    --focus-shadow: 0 0 0 4px rgba(26, 26, 26, 0.1);
}

/* ベーススタイル: グローバルリセット */
body {
    margin: 0;
    padding: 0;
    height: 100vh;
    background-color: var(--page-bg);
    color: var(--text-main);
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", sans-serif;
    -webkit-font-smoothing: antialiased;
}

/* =========================================
   Dark Theme Overrides (ダークモードの上書き設定)
   ========================================= */
/* HTMLタグに data-theme="dark" が付与された場合に適用 */
[data-theme="dark"] {
    /* --- コアカラーの反転 --- */
    --page-bg: #0F1115;
    --card-bg: #181B21;
    
    /* --- ボタン反転 --- */
    --primary-color: #c2c2c2;
    --primary-hover: #c0c0c0;
    
    /* --- テキスト反転 --- */
    --text-main: #FFFFFF;
    --text-sub: #98A2B3;
    --text-placeholder: #667085;
    
    /* --- フォームと境界線 --- */
    --input-bg: #22262E;
    --input-border: #344054;
    --border-light: rgba(255,255,255,0.08);
    
    /* --- インタラクション状態 --- */
    --hover-bg: #22262E;
    --active-bg: #FFFFFF;
    --active-text: #0F1115;
    
    /* --- 影の調整 --- */
    --shadow-sm: 0 2px 8px rgba(165, 165, 165, 0.4);
    --shadow-md: 0 4px 12px rgba(211, 211, 211, 0.5);
    --shadow-lg: 0 20px 48px -12px rgba(255, 255, 255, 0.6);
}

/* テーマ切り替え時のアニメーション */
body, .sidebar, .login-card, .choose-user-card, .input-field, .btn, .submit-btn, .dashboard-card {
    transition: background-color 0.3s var(--anim-curve), 
                color 0.3s var(--anim-curve), 
                border-color 0.3s var(--anim-curve), 
                box-shadow 0.3s var(--anim-curve);
}

/* テーマ切り替えスイッチのスタイル定義 */

.theme-switch-wrapper {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 1000;
    display: flex;
    align-items: center;
}

.theme-switch {
    display: inline-block;
    height: 34px;
    position: relative;
    width: 60px;
}

.theme-switch input {
    display: none;
}

/* スライダーの軌道 (Track) */
.slider {
    background-color: #E4E7EC; 
    bottom: 0;
    cursor: pointer;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transition: .4s;
    border-radius: 34px;
    border: 1px solid rgba(0,0,0,0.04);
}

/* スライダーのつまみ (Knob) */
.slider:before {
    background-color: #fff;
    bottom: 4px;
    content: "";
    height: 26px;
    left: 4px;
    position: absolute;
    transition: .4s cubic-bezier(0.4, 0, 0.2, 1);
    width: 26px;
    border-radius: 50%;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    z-index: 2;
}

/* アイコン層 (太陽と月) */
.icon-sun, .icon-moon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 16px;
    height: 16px;
    transition: opacity 0.3s;
}

.icon-sun {
    left: 9px;
    stroke: #ffffff;
    z-index: 1;
}

.icon-moon {
    right: 9px;
    stroke: #98A2B3;
    z-index: 1;
}

/* Check box 選択状態 (Dark Mode ON) */
input:checked + .slider {
    background-color: #22262E;
    border-color: rgba(255,255,255,0.1);
}

input:checked + .slider:before {
    transform: translateX(26px);
    background-color: #1A1A1A;
}

/* ダークモード時、月のアイコンを目立たせる */
input:checked + .slider .icon-moon {
    stroke: #fff;
}

/* フェードインアップアニメーション */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* 共通のフェードインアップアニメーションクラス */
.animate-fade-in {
    animation: fadeInUp var(--anim-medium) ease-out forwards;
}